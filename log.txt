2018-06-01 04:54:26,885: Internal Server Error: /
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 139, in _get_response
    "returned None instead." % (callback.__module__, view_name)
ValueError: The view projectmanage.views.index didn't return an HttpResponse object. It returned None instead.
2018-06-01 04:55:19,517: Internal Server Error: /
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 139, in _get_response
    "returned None instead." % (callback.__module__, view_name)
ValueError: The view projectmanage.views.index didn't return an HttpResponse object. It returned None instead.
2018-06-01 04:55:37,927: TopLevelDocumentMetaclass object argument after ** must be a mapping, not str
2018-06-01 04:56:43,040: Not Found: /PMTaskHandle/init/
2018-06-01 05:07:59,022: Cannot encode object: <Product: MT100000>
2018-06-01 05:08:56,159: Cannot encode object: <Product: MT100000>
2018-06-01 05:11:42,024: Cannot encode object: <Product: MT100000>
2018-06-01 05:14:01,557: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:14:01,566: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:14:01,567: 'account'
2018-06-01 05:18:08,969: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:18:08,977: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:18:08,979: 'tag'
2018-06-01 05:18:29,095: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:18:29,098: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:19:03,733: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:19:03,736: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:20:12,731: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:20:12,734: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:22:32,184: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:22:32,188: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:22:38,858: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:22:38,861: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:22:38,882: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 789, in view
    task['patientname'] = Patient.objects(pk=task.get('patient')).first().patientname
AttributeError: 'NoneType' object has no attribute 'patientname'
2018-06-01 05:27:37,035: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:27:37,040: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:27:37,072: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 789, in view
    task['patientname'] = Task.objects(pk=task).first().patient.patientname
AttributeError: 'NoneType' object has no attribute 'patientname'
2018-06-01 05:29:00,333: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:29:00,344: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:29:00,356: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 789, in view
    # task = json.loads(Task.objects(pk=task).first().to_json(ensure_ascii=False))
AttributeError: 'NoneType' object has no attribute 'patientname'
2018-06-01 05:30:56,453: add task 0000001 MT100000 肺癌
2018-06-01 05:30:56,458: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:30:56,465: add task 0000001 MT100000 胃癌
2018-06-01 05:30:56,465: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:30:56,466: ['Aia2Csfem4', '8jNeYrkBQm']
2018-06-01 05:30:56,484: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(pk=task).first().patient.patientname
AttributeError: 'NoneType' object has no attribute 'patientname'
2018-06-01 05:32:14,441: add task 0000001 MT100000 肺癌
2018-06-01 05:32:14,445: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:32:46,054: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:34:31,575: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:36:23,729: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:36:55,203: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:39:40,278: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:39:54,773: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:40:43,348: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    # tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:40:50,888: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumortype = product.tumortype,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:41:23,605: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumortype = product.tumortype,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:41:29,524: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 881, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 05:41:56,318: add task 0000001 MT100000 肺癌
2018-06-01 05:41:56,340: add task 0000001 MT100000 胃癌
2018-06-01 05:41:56,345: ['DtwpgMiV2n', 'Qg0exIwfuo']
2018-06-01 05:41:56,365: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(pk=task).first().patient.patientname
TypeError: 'str' object does not support item assignment
2018-06-01 05:43:35,164: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(pk=task).first().patient.patientname
TypeError: 'str' object does not support item assignment
2018-06-01 05:44:32,190: add task 0000001 MT100000 肺癌
2018-06-01 05:44:32,195: add task 0000001 MT100000 胃癌
2018-06-01 05:44:32,196: ['4qkD9pITiL', 'hAgFJdueIC']
2018-06-01 05:44:32,207: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
TypeError: 'str' object does not support item assignment
2018-06-01 05:44:37,776: add task 0000001 MT100000 肺癌
2018-06-01 05:44:37,791: add task 0000001 MT100000 胃癌
2018-06-01 05:44:37,794: ['GHD0pi12jO', 'BHLrSaUQzf']
2018-06-01 05:44:37,814: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 791, in view
    task['patientname'] = Task.objects(pk=task).first().patient.patientname
TypeError: 'str' object does not support item assignment
2018-06-01 05:44:52,135: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 791, in view
    task['patientname'] = Task.objects(pk=task).first().patient.patientname
TypeError: 'str' object does not support item assignment
2018-06-01 05:45:26,029: add task 0000001 MT100000 肺癌
2018-06-01 05:45:26,042: add task 0000001 MT100000 胃癌
2018-06-01 05:45:26,048: ['LG6y9o5Xim', 'UK0ZxBNT4S']
2018-06-01 05:45:26,067: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(pk=task).first().patient
TypeError: 'str' object does not support item assignment
2018-06-01 05:45:31,702: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(pk=task).first().patient
TypeError: 'str' object does not support item assignment
2018-06-01 05:45:56,068: Not Found: /PMTaskHandle/init/
2018-06-01 05:47:51,247: add task 0000001 MT100000 肺癌
2018-06-01 05:47:51,256: add task 0000001 MT100000 胃癌
2018-06-01 05:47:51,257: ['bdsalHV4uN', '8DkStEwx5J']
2018-06-01 05:47:51,272: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(pk=task).first()
TypeError: 'str' object does not support item assignment
2018-06-01 05:48:15,518: add task 0000001 MT100000 肺癌
2018-06-01 05:48:15,523: add task 0000001 MT100000 胃癌
2018-06-01 05:48:15,524: ['3UIohHKkT0', 'wgt9YTo3J7']
2018-06-01 05:48:15,534: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(taskid=task).first()
TypeError: 'str' object does not support item assignment
2018-06-01 05:48:20,880: add task 0000001 MT100000 肺癌
2018-06-01 05:48:20,894: add task 0000001 MT100000 胃癌
2018-06-01 05:48:20,905: ['0QTpjmkwFI', 'fxtHzap5Y9']
2018-06-01 05:48:20,924: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(taskid=task).first()
TypeError: 'str' object does not support item assignment
2018-06-01 05:49:19,329: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "patient"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 840, in view
    samples = json.loads(Sample.objects(patient=patient['_id']).all().to_json(ensure_ascii=False))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1154, in to_json
    return json_util.dumps(self.as_pymongo(), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 408, in dumps
    return json.dumps(_json_convert(obj, json_options), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in _json_convert
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in <genexpr>
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 99, in _iter_results
    self._populate_cache()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 118, in _populate_cache
    self._result_cache.append(next(self))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1466, in __next__
    raw_doc = next(self._cursor)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "patient"
2018-06-01 05:49:51,889: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "patient"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 840, in view
    samples = json.loads(Sample.objects(patient=patient['_id']).all().to_json(ensure_ascii=False))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1154, in to_json
    return json_util.dumps(self.as_pymongo(), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 408, in dumps
    return json.dumps(_json_convert(obj, json_options), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in _json_convert
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in <genexpr>
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 99, in _iter_results
    self._populate_cache()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 118, in _populate_cache
    self._result_cache.append(next(self))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1466, in __next__
    raw_doc = next(self._cursor)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "patient"
2018-06-01 05:50:43,403: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(taskid=task).first()
TypeError: 'str' object does not support item assignment
2018-06-01 05:50:52,002: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "patient"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 840, in view
    samples = json.loads(Sample.objects(patient=patient['_id']).all().to_json(ensure_ascii=False))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1154, in to_json
    return json_util.dumps(self.as_pymongo(), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 408, in dumps
    return json.dumps(_json_convert(obj, json_options), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in _json_convert
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in <genexpr>
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 99, in _iter_results
    self._populate_cache()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 118, in _populate_cache
    self._result_cache.append(next(self))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1466, in __next__
    raw_doc = next(self._cursor)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "patient"
2018-06-01 05:50:56,210: Not Found: /PMTaskHandle/init/
2018-06-01 05:50:56,607: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "patient"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 840, in view
    samples = json.loads(Sample.objects(patient=patient['_id']).all().to_json(ensure_ascii=False))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1154, in to_json
    return json_util.dumps(self.as_pymongo(), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 408, in dumps
    return json.dumps(_json_convert(obj, json_options), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in _json_convert
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in <genexpr>
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 99, in _iter_results
    self._populate_cache()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 118, in _populate_cache
    self._result_cache.append(next(self))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1466, in __next__
    raw_doc = next(self._cursor)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "patient"
2018-06-01 05:51:01,103: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 790, in view
    task['patientname'] = Task.objects(taskid=task).first()
TypeError: 'str' object does not support item assignment
2018-06-01 05:52:56,046: add task 0000001 MT100000 肺癌
2018-06-01 05:52:56,054: add task 0000001 MT100000 胃癌
2018-06-01 05:52:56,055: ['SjE9aIR0U5', 'vzrRdW35LT']
2018-06-01 05:52:56,068: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop['_id']
TypeError: 'builtin_function_or_method' object is not subscriptable
2018-06-01 05:53:42,885: add task 0000001 MT100000 肺癌
2018-06-01 05:53:42,898: add task 0000001 MT100000 胃癌
2018-06-01 05:53:42,904: ['NGFg74mLl6', '3qKltXLWpd']
2018-06-01 05:54:10,310: add task 0000001 MT100000 肺癌
2018-06-01 05:54:10,326: add task 0000001 MT100000 胃癌
2018-06-01 05:54:10,332: ['n7eK6LWa95', 'FxzZU7nNOa']
2018-06-01 05:54:49,962: add task 0000001 MT100000 肺癌
2018-06-01 05:54:49,969: add task 0000001 MT100000 胃癌
2018-06-01 05:54:49,969: ['Zx1LjuGBdH', 'yRYAa4VGwk']
2018-06-01 05:56:19,171: add task 0000001 MT100000 肺癌
2018-06-01 05:56:19,185: add task 0000001 MT100000 胃癌
2018-06-01 05:56:19,190: ['iYleTgOXPE', 'PXNBgTZD3A']
2018-06-01 05:56:42,942: Not Found: /favicon.ico
2018-06-01 05:56:43,815: Not Found: /favicon.ico
2018-06-01 06:02:03,773: Internal Server Error: /
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 139, in _get_response
    "returned None instead." % (callback.__module__, view_name)
ValueError: The view projectmanage.views.index didn't return an HttpResponse object. It returned None instead.
2018-06-01 06:02:03,997: Not Found: /favicon.ico
2018-06-01 06:03:45,259: add task 0000001 MT100000 肺癌
2018-06-01 06:03:45,265: add task 0000001 MT100000 胃癌
2018-06-01 06:03:45,286: ['WU2bVzdq9o', 'lWLiKZN8oM']
2018-06-01 06:03:45,343: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:04:23,792: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "patient"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient['_id']).all().to_json(ensure_ascii=False))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1154, in to_json
    return json_util.dumps(self.as_pymongo(), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 408, in dumps
    return json.dumps(_json_convert(obj, json_options), *args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in _json_convert
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/bson/json_util.py", line 449, in <genexpr>
    return list((_json_convert(v, json_options) for v in obj))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 99, in _iter_results
    self._populate_cache()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/queryset.py", line 118, in _populate_cache
    self._result_cache.append(next(self))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1466, in __next__
    raw_doc = next(self._cursor)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "patient"
2018-06-01 06:04:30,278: Not Found: /PMTaskHandle/init/
2018-06-01 06:04:46,014: Not Found: /PMTaskHandle/init/
2018-06-01 06:05:33,632: Not Found: /PMTaskHandle/init/
2018-06-01 06:08:31,816: {'projectid': 'XPDRJqEdeU', 'tag': '科研', 'patients': '000001', 'tumortype': '胃癌', 'start_time': '2018-06-15 14:07:10', 'deadline': '2018-06-21 14:07:13', 'duty': 'renqian', 'institute': '古惑仔之人在江湖', 'products': ['MT100000']}
2018-06-01 06:17:15,992: add task 0000001 MT100000 肺癌
2018-06-01 06:17:16,007: add task 0000001 MT100000 胃癌
2018-06-01 06:17:16,008: ['neMQCOUw4T', 'YEqHzDx5Fe']
2018-06-01 06:17:16,022: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:17:16,092: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:17:16,093: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:19:34,923: add task 0000001 MT100000 肺癌
2018-06-01 06:19:34,934: add task 0000001 MT100000 胃癌
2018-06-01 06:19:34,935: ['XJeWOF7i1P', '6JG8wFCVEL']
2018-06-01 06:19:34,954: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:19:35,023: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:19:35,030: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:20:08,572: add task 0000001 MT100000 肺癌
2018-06-01 06:20:08,585: add task 0000001 MT100000 胃癌
2018-06-01 06:20:08,586: ['ZXFgQGCr5V', '6H5DzxpodK']
2018-06-01 06:20:08,599: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:20:08,640: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:20:08,641: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:20:08,675: {'patients': '0000001 0000002', 'start_time': 1527834008.671829, 'deadline': 1527834608.671829, 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian'}
2018-06-01 06:20:08,681: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 619, in init
    data['start_time'] = datetime.datetime.strptime(data['start_time'], "%Y-%m-%d %H:%M:%S")
TypeError: strptime() argument 1 must be str, not float
2018-06-01 06:21:12,638: add task 0000001 MT100000 肺癌
2018-06-01 06:21:12,653: add task 0000001 MT100000 胃癌
2018-06-01 06:21:12,665: ['ZsQTWI13Bk', 'eB1KCudZa8']
2018-06-01 06:21:12,678: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:21:12,725: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:21:12,726: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:21:12,758: {'patients': '0000001 0000002', 'start_time': '1527834072.75522', 'deadline': '1527834672.75524', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian'}
2018-06-01 06:21:12,760: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 619, in init
    data['start_time'] = datetime.datetime.strptime(data['start_time'], "%Y-%m-%d %H:%M:%S")
  File "/Users/ryan/anaconda3/lib/python3.6/_strptime.py", line 565, in _strptime_datetime
    tt, fraction = _strptime(data_string, format)
  File "/Users/ryan/anaconda3/lib/python3.6/_strptime.py", line 362, in _strptime
    (data_string, format))
ValueError: time data '1527834072.75522' does not match format '%Y-%m-%d %H:%M:%S'
2018-06-01 06:21:41,968: add task 0000001 MT100000 肺癌
2018-06-01 06:21:41,981: add task 0000001 MT100000 胃癌
2018-06-01 06:21:41,983: ['j7hC9kwg6m', 'Qu76ghYKmN']
2018-06-01 06:21:41,999: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:21:42,075: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:21:42,075: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:21:42,107: {'patients': '0000001 0000002', 'start_time': 1527834102.1040452, 'deadline': 1527834702.1040452, 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian'}
2018-06-01 06:21:42,113: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 619, in init
    data['start_time'] = datetime.datetime.strptime(data['start_time'], "%Y-%m-%d %H:%M:%S")
TypeError: strptime() argument 1 must be str, not float
2018-06-01 06:22:13,362: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:24:24,678: add task 0000001 MT100000 肺癌
2018-06-01 06:24:24,683: add task 0000001 MT100000 胃癌
2018-06-01 06:24:24,684: ['ug46XVYfly', '7FOpW0oCeL']
2018-06-01 06:24:24,696: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:24:24,736: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:24:24,740: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:25:31,332: add task 0000001 MT100000 肺癌
2018-06-01 06:25:31,342: add task 0000001 MT100000 胃癌
2018-06-01 06:25:31,344: ['U7LVhzlA3O', 'sWu9DPJ5rN']
2018-06-01 06:25:31,362: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:25:31,414: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:25:31,415: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:25:31,446: {'patients': '0000001 0000002', 'start_time': '2018-06-01 14:25:31', 'deadline': '2018-06-21 14:25:31', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian'}
2018-06-01 06:25:31,447: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 622, in init
    project.save()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 354, in save
    self.validate(clean=clean)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 394, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Project:None) (Field is required: ['projectid'])
2018-06-01 06:33:10,794: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:33:41,405: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:36:10,408: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:36:13,500: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:36:15,535: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:38:09,181: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:38:20,038: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:38:42,370: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:39:22,716: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:39:24,144: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:43:23,871: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:43:27,150: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:43:29,289: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:45:35,250: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:45:41,283: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:46:27,885: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:46:29,321: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:46:31,091: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:48:13,153: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:48:14,679: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 842, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:52:48,306: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:57:43,253: add task 0000001 MT100000 肺癌
2018-06-01 06:57:43,258: add task 0000001 MT100000 胃癌
2018-06-01 06:57:43,259: ['oNA5YdnQxu', 'wDYpiRyE0u']
2018-06-01 06:57:43,273: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 792, in view
    task = json.loads(Task.objects(pk=task).first().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 06:57:43,379: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:57:43,385: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:57:43,427: {'patients': '0000001 0000002', 'start_time': '2018-06-01 14:57:43', 'deadline': '2018-06-21 14:57:43', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'project': ''}
2018-06-01 06:57:43,428: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 621, in init
    if data['projectid']=='':
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 77, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'project'}" do not exist on the document "Project"
2018-06-01 06:57:54,332: add task 0000001 MT100000 肺癌
2018-06-01 06:57:54,346: add task 0000001 MT100000 胃癌
2018-06-01 06:57:54,347: ['FPbOAUGR9t', 's1RId834QS']
2018-06-01 06:57:54,359: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 794, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:57:54,405: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:57:54,410: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:57:54,463: {'patients': '0000001 0000002', 'start_time': '2018-06-01 14:57:54', 'deadline': '2018-06-21 14:57:54', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'project': ''}
2018-06-01 06:57:54,469: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 621, in init
    if data['projectid']=='':
KeyError: 'projectid'
2018-06-01 06:58:04,126: add task 0000001 MT100000 肺癌
2018-06-01 06:58:04,135: add task 0000001 MT100000 胃癌
2018-06-01 06:58:04,136: ['0lqMCsOYnF', 'kxAtr1hF0T']
2018-06-01 06:58:04,149: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 794, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:58:04,212: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:58:04,213: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:58:04,244: {'patients': '0000001 0000002', 'start_time': '2018-06-01 14:58:04', 'deadline': '2018-06-21 14:58:04', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': ''}
2018-06-01 06:58:04,251: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 27, in GenerateTask
    product=Product.objects(productid=product).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 611, in __getitem__
    for doc in clone:
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1169, in next
    if len(self.__data) or self._refresh():
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1085, in _refresh
    self.__send_message(q)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 924, in __send_message
    **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1029, in _send_message_with_response
    exhaust)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1040, in _reset_on_error
    return func(*args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/server.py", line 94, in send_message_with_response
    set_slave_okay, sock_info, use_find_cmd)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/message.py", line 323, in get_message
    spec, None if use_cmd else self.fields, self.codec_options)
bson.errors.InvalidDocument: Cannot encode object: <Product: MT100000>
2018-06-01 06:58:27,362: add task 0000001 MT100000 肺癌
2018-06-01 06:58:27,368: add task 0000001 MT100000 胃癌
2018-06-01 06:58:27,369: ['E7oaVPcDTh', '7y4AgKYiES']
2018-06-01 06:58:27,384: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 794, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:58:27,426: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:58:27,431: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:58:27,463: {'patients': '0000001 0000002', 'start_time': '2018-06-01 14:58:27', 'deadline': '2018-06-21 14:58:27', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 06:58:27,465: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 623, in init
    project = Project(**data)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 77, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'info'}" do not exist on the document "Project"
2018-06-01 06:59:34,448: add task 0000001 MT100000 肺癌
2018-06-01 06:59:34,459: add task 0000001 MT100000 胃癌
2018-06-01 06:59:34,460: ['G2aQ6SBFuN', 'hNcbePs5Wv']
2018-06-01 06:59:34,476: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 794, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 06:59:34,533: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 06:59:34,538: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 06:59:34,573: {'patients': '0000001 0000002', 'start_time': '2018-06-01 14:59:34', 'deadline': '2018-06-21 14:59:34', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 06:59:34,583: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 26, in GenerateTask
    product=Product.objects(productid=product).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 611, in __getitem__
    for doc in clone:
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1169, in next
    if len(self.__data) or self._refresh():
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1085, in _refresh
    self.__send_message(q)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 924, in __send_message
    **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1029, in _send_message_with_response
    exhaust)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1040, in _reset_on_error
    return func(*args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/server.py", line 94, in send_message_with_response
    set_slave_okay, sock_info, use_find_cmd)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/message.py", line 323, in get_message
    spec, None if use_cmd else self.fields, self.codec_options)
bson.errors.InvalidDocument: Cannot encode object: <Product: MT100000>
2018-06-01 07:00:47,298: add task 0000001 MT100000 肺癌
2018-06-01 07:00:47,305: add task 0000001 MT100000 胃癌
2018-06-01 07:00:47,317: ['NFTJKRk4IA', 'f3LNpgTqyW']
2018-06-01 07:00:47,333: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 794, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 07:00:47,390: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:00:47,391: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:00:47,420: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:00:47', 'deadline': '2018-06-21 15:00:47', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:00:47,433: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 26, in GenerateTask
    product=Product.objects(productid=product).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 611, in __getitem__
    for doc in clone:
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1169, in next
    if len(self.__data) or self._refresh():
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1085, in _refresh
    self.__send_message(q)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 924, in __send_message
    **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1029, in _send_message_with_response
    exhaust)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1040, in _reset_on_error
    return func(*args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/server.py", line 94, in send_message_with_response
    set_slave_okay, sock_info, use_find_cmd)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/message.py", line 323, in get_message
    spec, None if use_cmd else self.fields, self.codec_options)
bson.errors.InvalidDocument: Cannot encode object: <Product: MT100000>
2018-06-01 07:00:53,978: add task 0000001 MT100000 肺癌
2018-06-01 07:00:53,986: add task 0000001 MT100000 胃癌
2018-06-01 07:00:53,987: ['ydp4g9mvo3', 'WEeCl9onmY']
2018-06-01 07:00:54,006: Internal Server Error: /ProjectHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 794, in view
    task['taskid']=task.pop('_id')
KeyError: '_id'
2018-06-01 07:00:54,072: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:00:54,078: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:00:54,110: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:00:54', 'deadline': '2018-06-21 15:00:54', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:00:54,121: add task 0000001 MT100000 肺癌
2018-06-01 07:00:54,122: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 632, in init
    project.modify(tasks=tasks)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in prepare_query_value
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in <listcomp>
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:04:27,738: add task 0000001 MT100000 肺癌
2018-06-01 07:04:27,759: add task 0000001 MT100000 胃癌
2018-06-01 07:04:27,760: ['RpJ4icUlHB', 'TI84MW57hl']
2018-06-01 07:04:27,814: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:04:27,818: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    info = str(task.info)
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:04:27,888: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:04:27', 'deadline': '2018-06-21 15:04:27', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:04:27,905: add task 0000001 MT100000 肺癌
2018-06-01 07:04:27,905: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 632, in init
    project.modify(tasks=tasks)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in prepare_query_value
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in <listcomp>
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:05:38,629: add task 0000001 MT100000 肺癌
2018-06-01 07:05:38,641: add task 0000001 MT100000 胃癌
2018-06-01 07:05:38,650: ['Noc9qrCP5y', 'ZiplcUnXG9']
2018-06-01 07:05:38,699: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:05:38,700: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:05:38,777: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:05:38', 'deadline': '2018-06-21 15:05:38', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:05:38,803: add task 0000001 MT100000 肺癌
2018-06-01 07:05:38,804: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 634, in init
    project.modify(tasks=tasks)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in prepare_query_value
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in <listcomp>
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:08:24,007: add task 0000001 MT100000 肺癌
2018-06-01 07:08:24,015: add task 0000001 MT100000 胃癌
2018-06-01 07:08:24,016: ['UDHlnrdGEz', 'wgsLYoEVbB']
2018-06-01 07:08:24,045: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:08:24,048: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:08:24,084: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:08:24', 'deadline': '2018-06-21 15:08:24', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:08:24,099: add task 0000001 MT100000 肺癌
2018-06-01 07:08:24,099: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 636, in init
    project.save()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 354, in save
    self.validate(clean=clean)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 394, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Project:Be4PlsqDuf) (A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents: ['tasks'])
2018-06-01 07:14:27,495: add task 0000001 MT100000 肺癌
2018-06-01 07:14:27,508: add task 0000001 MT100000 胃癌
2018-06-01 07:14:27,509: ['mP0izTjD4u', 'i4EygMl9wu']
2018-06-01 07:14:27,550: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:14:27,551: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:14:27,643: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:14:27', 'deadline': '2018-06-21 15:14:27', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:14:27,657: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    patient.modify(taskstatus='有')
AttributeError: 'str' object has no attribute 'modify'
2018-06-01 07:15:08,585: add task 0000001 MT100000 肺癌
2018-06-01 07:15:08,591: add task 0000001 MT100000 胃癌
2018-06-01 07:15:08,597: ['x5Lj8fU6wG', 'DY3MO9a4wG']
2018-06-01 07:15:08,641: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:15:08,642: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:15:08,681: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:15:08', 'deadline': '2018-06-21 15:15:08', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:15:08,691: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:20:52,174: add task 0000001 MT100000 肺癌
2018-06-01 07:20:52,185: add task 0000001 MT100000 胃癌
2018-06-01 07:20:52,186: ['qXDavHfLMi', 'FJGXBb0Oj4']
2018-06-01 07:20:52,213: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:20:52,217: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:20:52,258: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:20:52', 'deadline': '2018-06-21 15:20:52', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:20:52,267: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:21:31,264: add task 0000001 MT100000 肺癌
2018-06-01 07:21:31,270: add task 0000001 MT100000 胃癌
2018-06-01 07:21:31,271: ['kePdsn250t', 'rtVauinJRF']
2018-06-01 07:21:31,304: {'taskid': 'iYleTgOXPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:21:31,305: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:21:31,363: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:21:31', 'deadline': '2018-06-21 15:21:31', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:21:31,374: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:23:36,264: add task 0000001 MT100000 肺癌
2018-06-01 07:23:36,269: add task 0000001 MT100000 胃癌
2018-06-01 07:23:36,270: ['Y4xgBbTQmL', 'aWIdvA3PNn']
2018-06-01 07:23:36,310: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:23:36,330: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:23:36', 'deadline': '2018-06-21 15:23:36', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:23:36,339: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:26:33,279: add task 0000001 MT100000 肺癌
2018-06-01 07:26:33,284: add task 0000001 MT100000 胃癌
2018-06-01 07:26:33,285: ['ODlQBhMiF3', 'LPX8I5v0Wg']
2018-06-01 07:26:33,333: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:26:33,349: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:26:33', 'deadline': '2018-06-21 15:26:33', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:26:33,356: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 630, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:27:30,364: add task 0000001 MT100000 肺癌
2018-06-01 07:27:30,381: add task 0000001 MT100000 胃癌
2018-06-01 07:27:30,386: ['hszXQi7c1o', 'dSgYnojVli']
2018-06-01 07:27:30,415: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:27:30,416: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:27:30,459: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:27:30', 'deadline': '2018-06-21 15:27:30', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:27:30,469: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 46, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:28:21,665: add task 0000001 MT100000 肺癌
2018-06-01 07:28:21,671: add task 0000001 MT100000 肺癌
2018-06-01 07:28:21,677: add task 0000001 MT100000 胃癌
2018-06-01 07:28:21,683: add task 0000001 MT100000 胃癌
2018-06-01 07:28:21,684: ['KXUqHsmBQj', 'cKgM83xzlL']
2018-06-01 07:28:21,731: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:28:21,736: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 218, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:28:21,790: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:28:21', 'deadline': '2018-06-21 15:28:21', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:28:21,807: add task 0000001 MT100000 肺癌
2018-06-01 07:28:21,807: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 632, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:31:10,771: add task 0000001 MT100000 肺癌
2018-06-01 07:31:10,781: add task 0000001 MT100000 胃癌
2018-06-01 07:31:10,784: ['mo94bd2OSK', 'a5yJFhsi9j']
2018-06-01 07:31:10,814: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:31:10,814: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:31:10,863: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:31:10', 'deadline': '2018-06-21 15:31:10', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:31:10,875: add task 0000001 MT100000 肺癌
2018-06-01 07:31:10,875: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:32:02,313: add task 0000001 MT100000 肺癌
2018-06-01 07:32:02,323: add task 0000001 MT100000 胃癌
2018-06-01 07:32:02,329: ['Il31QR2gtA', 'EjTy14W3Aa']
2018-06-01 07:32:02,358: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:32:02,359: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:32:02,400: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:32:02', 'deadline': '2018-06-21 15:32:02', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:32:02,412: add task 0000001 MT100000 肺癌
2018-06-01 07:32:02,413: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:34:27,296: add task 0000001 MT100000 肺癌
2018-06-01 07:34:27,302: add task 0000001 MT100000 胃癌
2018-06-01 07:34:27,305: ['Vnb5WcSKij', 'vHo1NYcDJw']
2018-06-01 07:34:27,337: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:34:27,337: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:35:10,525: add task 0000001 MT100000 肺癌
2018-06-01 07:35:10,536: add task 0000001 MT100000 胃癌
2018-06-01 07:35:10,543: ['Phifq1LzO3', 'rlXc7Es40w']
2018-06-01 07:35:10,573: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:35:10,582: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:36:14,068: add task 0000001 MT100000 肺癌
2018-06-01 07:36:14,083: add task 0000001 MT100000 胃癌
2018-06-01 07:36:14,086: ['QsOjKvDVpe', 'ojRAK8M4pZ']
2018-06-01 07:36:14,112: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:36:14,113: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:37:16,745: add task 0000001 MT100000 肺癌
2018-06-01 07:37:16,759: add task 0000001 MT100000 胃癌
2018-06-01 07:37:16,766: ['6refuJgM04', 'IsXzSc14fM']
2018-06-01 07:37:16,800: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:37:16,805: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:43:31,314: add task 0000001 MT100000 肺癌
2018-06-01 07:43:31,323: add task 0000001 MT100000 胃癌
2018-06-01 07:43:31,342: ['yY9cbaDQn4', 'b3EekIBcpt']
2018-06-01 07:43:31,376: {'taskid': 'qXDavHfLMi', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:43:31,377: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 217, in pause
    if task.info:
AttributeError: 'NoneType' object has no attribute 'info'
2018-06-01 07:43:38,130: add task 0000001 MT100000 肺癌
2018-06-01 07:43:38,136: add task 0000001 MT100000 胃癌
2018-06-01 07:43:38,139: ['7NmfgLMGbp', '1wIJocMv6Q']
2018-06-01 07:43:38,180: {'taskid': '6refuJgM04', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:43:51,513: add task 0000001 MT100000 肺癌
2018-06-01 07:43:51,518: add task 0000001 MT100000 胃癌
2018-06-01 07:43:51,521: ['tCSTJbnom3', 't0Qd58nR7f']
2018-06-01 07:43:51,579: {'taskid': '6refuJgM04', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:43:51,595: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:43:51', 'deadline': '2018-06-21 15:43:51', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': ''}
2018-06-01 07:43:51,604: add task 0000001 MT100000 肺癌
2018-06-01 07:43:51,605: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:45:12,681: add task 0000001 MT100000 肺癌
2018-06-01 07:45:12,688: add task 0000001 MT100000 胃癌
2018-06-01 07:45:12,691: ['b2jBvIo9Gk', 'CXayi1c8ug']
2018-06-01 07:45:12,750: {'taskid': '6refuJgM04', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:45:12,761: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:45:12', 'deadline': '2018-06-21 15:45:12', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': '', 'tag': '科研'}
2018-06-01 07:45:12,768: add task 0000001 MT100000 肺癌
2018-06-01 07:45:12,778: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:45:36,673: add task 0000001 MT100000 肺癌
2018-06-01 07:45:36,681: add task 0000001 MT100000 胃癌
2018-06-01 07:45:36,684: ['nRoIW16U4T', 'BfRTYIg0JC']
2018-06-01 07:45:36,769: {'taskid': '6refuJgM04', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:45:36,788: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:45:36', 'deadline': '2018-06-21 15:45:36', 'products': ['MT100000'], 'tumortype': 'lung', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': '', 'tag': '科研'}
2018-06-01 07:45:36,794: add task 0000001 MT100000 lung
2018-06-01 07:45:36,794: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:47:42,576: add task 0000001 MT100000 肺癌
2018-06-01 07:47:42,585: add task 0000001 MT100000 胃癌
2018-06-01 07:47:42,588: ['pEsvr8U4PA', 'q392WXmCBD']
2018-06-01 07:47:42,686: {'taskid': '6refuJgM04', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:47:42,706: {'patients': '0000001 0000002', 'start_time': '2018-06-01 15:47:42', 'deadline': '2018-06-21 15:47:42', 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '', 'info': '', 'tag': '科研'}
2018-06-01 07:47:42,713: add task 0000001 MT100000 肺癌
2018-06-01 07:47:42,713: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 631, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:51:28,388: add task 0000001 MT100000 肺癌
2018-06-01 07:51:28,401: add task 0000001 MT100000 胃癌
2018-06-01 07:51:28,411: ['zNGSKtB72d', 'EWt1L8scuw']
2018-06-01 07:51:28,453: {'taskid': 'zNGSKtB72d', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:51:28,474: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 15, 51, 28), 'deadline': datetime.datetime(2018, 6, 21, 15, 51, 28), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'wB4Uq0Jeoz', 'tag': '科研'}
2018-06-01 07:51:28,478: add task 0000001 MT100000 肺癌
2018-06-01 07:51:28,478: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 633, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:54:38,451: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 894, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 31, in GenerateTask
    logging.debug('add task: $s %s %s %s' % (taskid, patient, product, tumortype))
TypeError: not all arguments converted during string formatting
2018-06-01 07:55:03,907: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 894, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 31, in GenerateTask
    logging.debug('add task: $s %s %s %s' % (taskid, patient, product, tumortype))
TypeError: not all arguments converted during string formatting
2018-06-01 07:56:44,294: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 894, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 31, in GenerateTask
    logging.debug('add task: %s %s %s %s' % (taskid, patient, product, tumortype))
TypeError: not all arguments converted during string formatting
2018-06-01 07:57:10,823: add task: aKTgkyEJFL 0000001 MT100000 肺癌
2018-06-01 07:57:10,836: add task: uPrsGcXO1a 0000001 MT100000 胃癌
2018-06-01 07:57:10,840: ['aKTgkyEJFL', 'uPrsGcXO1a']
2018-06-01 07:57:10,873: {'taskid': 'aKTgkyEJFL', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:57:10,894: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 15, 57, 10), 'deadline': datetime.datetime(2018, 6, 21, 15, 57, 10), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'MP6OiDu4tq', 'tag': '科研'}
2018-06-01 07:57:10,898: add task: FRcgjA35kY 0000001 MT100000 肺癌
2018-06-01 07:57:10,899: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 633, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 07:57:21,705: add task: Z8FS5YvPAy 0000001 MT100000 肺癌
2018-06-01 07:57:21,712: add task: 7fKcOuZmyG 0000001 MT100000 胃癌
2018-06-01 07:57:21,719: ['Z8FS5YvPAy', '7fKcOuZmyG']
2018-06-01 07:57:21,760: {'taskid': 'aKTgkyEJFL', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 07:57:21,779: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 15, 57, 21), 'deadline': datetime.datetime(2018, 6, 21, 15, 57, 21), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'OJXU9Ga1lC', 'tag': '科研'}
2018-06-01 07:57:21,784: add task: qCWfpQcjaG 0000001 MT100000 肺癌
2018-06-01 07:57:21,784: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 633, in init
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 47, in GenerateTask
    tumorsize = product.tumorsize
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 08:00:19,795: add task: j50wskNG7P 0000001 MT100000 肺癌
2018-06-01 08:00:19,807: add task: 5VhDf2E8Us 0000001 MT100000 胃癌
2018-06-01 08:00:19,811: ['j50wskNG7P', '5VhDf2E8Us']
2018-06-01 08:00:19,850: {'taskid': 'j50wskNG7P', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:00:19,892: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 0, 19), 'deadline': datetime.datetime(2018, 6, 21, 16, 0, 19), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'rNlJtIA4Vh', 'tag': '科研'}
2018-06-01 08:00:19,899: add task: iDdhRSAYF5 0000001 MT100000 肺癌
2018-06-01 08:06:08,206: add task: Y8m4PXIfV2 0000001 MT100000 肺癌
2018-06-01 08:06:08,216: add task: ZLrFCcI28M 0000001 MT100000 胃癌
2018-06-01 08:06:08,223: ['Y8m4PXIfV2', 'ZLrFCcI28M']
2018-06-01 08:06:08,225: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 917, in addproject
    tag=data['tag']
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in prepare_query_value
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in <listcomp>
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 08:06:08,311: {'taskid': 'Y8m4PXIfV2', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:06:08,341: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 6, 8), 'deadline': datetime.datetime(2018, 6, 21, 16, 6, 8), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'cC8WDV2BHP', 'tag': '科研'}
2018-06-01 08:06:08,347: add task: sz0uQ46SYe 0000001 MT100000 肺癌
2018-06-01 08:06:46,100: add task: ZnwrATLdp5 0000001 MT100000 肺癌
2018-06-01 08:06:46,106: add task: V9N4qB1YFQ 0000001 MT100000 胃癌
2018-06-01 08:06:46,111: ['ZnwrATLdp5', 'V9N4qB1YFQ']
2018-06-01 08:06:46,112: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 917, in addproject
    tag=data['tag']
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in prepare_query_value
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in <listcomp>
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 08:06:46,184: {'taskid': 'Y8m4PXIfV2', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:06:46,205: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 6, 46), 'deadline': datetime.datetime(2018, 6, 21, 16, 6, 46), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'sfMxUtu2hb', 'tag': '科研'}
2018-06-01 08:06:46,209: add task: xaOCsz2Ro4 0000001 MT100000 肺癌
2018-06-01 08:07:53,128: add task: e97DUql3WO 0000001 MT100000 肺癌
2018-06-01 08:07:53,146: add task: OeHqI5FLog 0000001 MT100000 胃癌
2018-06-01 08:07:53,150: [<Task: e97DUql3WO>, <Task: OeHqI5FLog>]
2018-06-01 08:07:53,152: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 917, in addproject
    tag=data['tag']
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in prepare_query_value
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 802, in <listcomp>
    return [self.field.prepare_query_value(op, v) for v in value]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 08:07:53,241: {'taskid': 'e97DUql3WO', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:07:53,259: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 7, 53), 'deadline': datetime.datetime(2018, 6, 21, 16, 7, 53), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'EyiQlskGMw', 'tag': '科研'}
2018-06-01 08:07:53,263: add task: qhjWQGz6Le 0000001 MT100000 肺癌
2018-06-01 08:10:19,609: add task: vSfukeGa3B 0000001 MT100000 肺癌
2018-06-01 08:10:19,621: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 902, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 33, in GenerateTask
    product=Product.objects(productid=product).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 611, in __getitem__
    for doc in clone:
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1169, in next
    if len(self.__data) or self._refresh():
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1085, in _refresh
    self.__send_message(q)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 924, in __send_message
    **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1029, in _send_message_with_response
    exhaust)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1040, in _reset_on_error
    return func(*args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/server.py", line 94, in send_message_with_response
    set_slave_okay, sock_info, use_find_cmd)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/message.py", line 323, in get_message
    spec, None if use_cmd else self.fields, self.codec_options)
bson.errors.InvalidDocument: Cannot encode object: <Product: MT100000>
2018-06-01 08:10:19,755: {'taskid': 'vSfukeGa3B', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:10:19,792: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 10, 19), 'deadline': datetime.datetime(2018, 6, 21, 16, 10, 19), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'scjyigh07E', 'tag': '科研'}
2018-06-01 08:10:19,799: add task: IEK3DJkvoS 0000001 MT100000 肺癌
2018-06-01 08:10:27,478: add task: MXk8J3tYHG 0000001 MT100000 肺癌
2018-06-01 08:10:27,483: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 902, in addproject
    task = GenerateTask(patient,product,tumortype)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 33, in GenerateTask
    product=Product.objects(productid=product).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 611, in __getitem__
    for doc in clone:
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1169, in next
    if len(self.__data) or self._refresh():
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 1085, in _refresh
    self.__send_message(q)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/cursor.py", line 924, in __send_message
    **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1029, in _send_message_with_response
    exhaust)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/mongo_client.py", line 1040, in _reset_on_error
    return func(*args, **kwargs)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/server.py", line 94, in send_message_with_response
    set_slave_okay, sock_info, use_find_cmd)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/pymongo/message.py", line 323, in get_message
    spec, None if use_cmd else self.fields, self.codec_options)
bson.errors.InvalidDocument: Cannot encode object: <Product: MT100000>
2018-06-01 08:10:27,540: {'taskid': 'vSfukeGa3B', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:10:27,558: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 10, 27), 'deadline': datetime.datetime(2018, 6, 21, 16, 10, 27), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '3BTesPkjX6', 'tag': '科研'}
2018-06-01 08:10:27,562: add task: Ws2SOKd0Gx 0000001 MT100000 肺癌
2018-06-01 08:11:32,867: add task: Fy3k9vz6dl 0000001 MT100000 肺癌
2018-06-01 08:11:32,880: add task: i6objU5NLP 0000001 MT100000 胃癌
2018-06-01 08:11:32,897: [<Task: Fy3k9vz6dl>, <Task: i6objU5NLP>]
2018-06-01 08:11:32,900: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 919, in addproject
    tag=data['tag']
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 08:11:32,996: {'taskid': 'Fy3k9vz6dl', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:11:33,029: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 11, 33), 'deadline': datetime.datetime(2018, 6, 21, 16, 11, 33), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'mGultJKT9D', 'tag': '科研'}
2018-06-01 08:11:33,036: add task: IoeQJ1T3f5 0000001 MT100000 肺癌
2018-06-01 08:12:28,674: add task: iMxymTpEtw 0000001 MT100000 肺癌
2018-06-01 08:12:28,689: add task: X2YLryPW98 0000001 MT100000 胃癌
2018-06-01 08:12:28,694: [<Task: iMxymTpEtw>, <Task: X2YLryPW98>]
2018-06-01 08:12:28,696: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 920, in addproject
    tag=data['tag']
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/document.py", line 281, in modify
    updated = self._qs(**query).modify(new=True, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 605, in modify
    update = transform.update(queryset._document, **update)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 291, in update
    value = field.prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1096, in prepare_query_value
    super(ReferenceField, self).prepare_query_value(op, value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 191, in prepare_query_value
    self.validate(value)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/fields.py", line 1102, in validate
    self.error('A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents')
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/fields.py", line 166, in error
    raise ValidationError(message, errors=errors, field_name=field_name)
mongoengine.errors.ValidationError: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 08:12:28,826: {'taskid': 'iMxymTpEtw', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:12:28,869: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 12, 28), 'deadline': datetime.datetime(2018, 6, 21, 16, 12, 28), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '3cCXuDhOmw', 'tag': '科研'}
2018-06-01 08:12:28,876: add task: Ztla3vP8oB 0000001 MT100000 肺癌
2018-06-01 08:13:34,264: add task: ie2zynFNcu 0000001 MT100000 肺癌
2018-06-01 08:13:34,276: add task: mkYaiC2NZb 0000001 MT100000 胃癌
2018-06-01 08:13:34,282: [<Task: ie2zynFNcu>, <Task: mkYaiC2NZb>]
2018-06-01 08:13:34,347: {'taskid': 'ie2zynFNcu', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:13:34,376: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 13, 34), 'deadline': datetime.datetime(2018, 6, 21, 16, 13, 34), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'VK042pL63U', 'tag': '科研'}
2018-06-01 08:13:34,382: add task: 1FXPBfxMrt 0000001 MT100000 肺癌
2018-06-01 08:30:18,671: add task: Mk9DEV2fQa 0000001 MT100000 肺癌
2018-06-01 08:30:18,686: add task: EQm5tvO64u 0000001 MT100000 胃癌
2018-06-01 08:30:18,691: [<Task: Mk9DEV2fQa>, <Task: EQm5tvO64u>]
2018-06-01 08:30:18,738: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:30:18,765: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 30, 18), 'deadline': datetime.datetime(2018, 6, 21, 16, 30, 18), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'sZhBayEJHe', 'tag': '科研'}
2018-06-01 08:30:18,776: add task: QqKzopjF1x 0000001 MT100000 肺癌
2018-06-01 08:44:42,756: add task: jMJRIohm7r 0000001 MT100000 肺癌
2018-06-01 08:44:42,761: add task: hp2ECUxNFO 0000001 MT100000 胃癌
2018-06-01 08:44:42,764: [<Task: jMJRIohm7r>, <Task: hp2ECUxNFO>]
2018-06-01 08:44:42,806: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:44:42,847: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 44, 42), 'deadline': datetime.datetime(2018, 6, 21, 16, 44, 42), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'a08wg2m57r', 'tag': '科研'}
2018-06-01 08:44:42,854: add task: 1whRp43LZb 0000001 MT100000 肺癌
2018-06-01 08:45:08,547: add task: lAUFq1jaGV 0000001 MT100000 肺癌
2018-06-01 08:45:08,552: add task: 61qtapivby 0000001 MT100000 胃癌
2018-06-01 08:45:08,555: [<Task: lAUFq1jaGV>, <Task: 61qtapivby>]
2018-06-01 08:45:08,622: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:45:08,636: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 45, 8), 'deadline': datetime.datetime(2018, 6, 21, 16, 45, 8), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'TDLjrCtRek', 'tag': '科研'}
2018-06-01 08:45:08,640: add task: NDwktCH0Un 0000001 MT100000 肺癌
2018-06-01 08:52:13,352: Internal Server Error: /ProductHandle/add/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 1062, in add
    data = json.loads(request.body.decode('utf-8'))
  File "/Users/ryan/anaconda3/lib/python3.6/json/__init__.py", line 354, in loads
    return _default_decoder.decode(s)
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 357, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2018-06-01 08:52:13,404: Internal Server Error: /PatientHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 872, in init
    data = json.loads(request.body.decode('utf-8'))
  File "/Users/ryan/anaconda3/lib/python3.6/json/__init__.py", line 354, in loads
    return _default_decoder.decode(s)
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 357, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2018-06-01 08:52:13,488: Internal Server Error: /PatientHandle/addproject/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 894, in addproject
    data = json.loads(request.body.decode('utf-8'))
  File "/Users/ryan/anaconda3/lib/python3.6/json/__init__.py", line 354, in loads
    return _default_decoder.decode(s)
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 357, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2018-06-01 08:52:13,632: Internal Server Error: /PMTaskHandle/pause/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 221, in pause
    data = json.loads(request.body.decode('utf-8'))
  File "/Users/ryan/anaconda3/lib/python3.6/json/__init__.py", line 354, in loads
    return _default_decoder.decode(s)
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 357, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2018-06-01 08:52:13,721: Internal Server Error: /ProjectHandle/init/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 617, in init
    data = json.loads(request.body.decode('utf-8'))
  File "/Users/ryan/anaconda3/lib/python3.6/json/__init__.py", line 354, in loads
    return _default_decoder.decode(s)
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/Users/ryan/anaconda3/lib/python3.6/json/decoder.py", line 357, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2018-06-01 08:55:18,448: add task: EWlq6f5itw 0000001 MT100000 肺癌
2018-06-01 08:55:18,453: add task: GgB5VFDYoL 0000001 MT100000 胃癌
2018-06-01 08:55:18,456: [<Task: EWlq6f5itw>, <Task: GgB5VFDYoL>]
2018-06-01 08:55:18,541: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:55:18,564: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 55, 18), 'deadline': datetime.datetime(2018, 6, 21, 16, 55, 18), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '3DuORH8Jrg', 'tag': '科研'}
2018-06-01 08:55:18,571: add task: zBygsnxNAH 0000001 MT100000 肺癌
2018-06-01 08:55:55,734: add task: hmkrfYsuZz 0000001 MT100000 肺癌
2018-06-01 08:55:55,741: add task: LWRxu2fJIO 0000001 MT100000 胃癌
2018-06-01 08:55:55,744: [<Task: hmkrfYsuZz>, <Task: LWRxu2fJIO>]
2018-06-01 08:55:55,870: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:55:55,888: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 55, 55), 'deadline': datetime.datetime(2018, 6, 21, 16, 55, 55), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '1zIpNKQjMO', 'tag': '科研'}
2018-06-01 08:55:55,892: add task: GIhxPR5SDO 0000001 MT100000 肺癌
2018-06-01 08:59:59,630: add task: KFAeEnTjvd 0000001 MT100000 肺癌
2018-06-01 08:59:59,635: add task: DO1AWzyIfj 0000001 MT100000 胃癌
2018-06-01 08:59:59,638: [<Task: KFAeEnTjvd>, <Task: DO1AWzyIfj>]
2018-06-01 08:59:59,763: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 08:59:59,786: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 16, 59, 59), 'deadline': datetime.datetime(2018, 6, 21, 16, 59, 59), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'viXpxoulFV', 'tag': '科研'}
2018-06-01 08:59:59,791: add task: OQVS1fzsWE 0000001 MT100000 肺癌
2018-06-01 09:00:38,954: add task: TpE8Qf3KMj 0000001 MT100000 肺癌
2018-06-01 09:00:38,959: add task: mUpr1JEvnX 0000001 MT100000 胃癌
2018-06-01 09:00:38,962: [<Task: TpE8Qf3KMj>, <Task: mUpr1JEvnX>]
2018-06-01 09:00:39,108: {'taskid': 'Mk9DEV2fQa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 09:00:39,124: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 17, 0, 39), 'deadline': datetime.datetime(2018, 6, 21, 17, 0, 39), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'w7q3YnTiAr', 'tag': '科研'}
2018-06-01 09:00:39,128: add task: LB2hfA1lIO 0000001 MT100000 肺癌
2018-06-01 09:03:25,163: add task: EI1CoSupYQ 0000001 MT100000 肺癌
2018-06-01 09:03:25,174: add task: KfNYQsCA9l 0000001 MT100000 胃癌
2018-06-01 09:03:25,178: [<Task: EI1CoSupYQ>, <Task: KfNYQsCA9l>]
2018-06-01 09:03:25,217: {'taskid': 'EI1CoSupYQ', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 09:03:25,232: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 17, 3, 25), 'deadline': datetime.datetime(2018, 6, 21, 17, 3, 25), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'xVNb6Yz5mD', 'tag': '科研'}
2018-06-01 09:03:25,236: add task: gYW8HESJGc 0000001 MT100000 肺癌
2018-06-01 09:06:46,594: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 861, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 09:16:10,505: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 861, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 09:17:04,398: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 861, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 09:17:06,426: Internal Server Error: /PatientHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 861, in view
    samples = json.loads(Sample.objects(patient=patient.pop('_id')).all().to_json(ensure_ascii=False))
KeyError: '_id'
2018-06-01 09:23:14,553: add task: cEnQpkltiz 0000001 MT100000 肺癌
2018-06-01 09:23:14,564: add task: zHd5Xy6Mqw 0000001 MT100000 胃癌
2018-06-01 09:23:14,568: [<Task: cEnQpkltiz>, <Task: zHd5Xy6Mqw>]
2018-06-01 09:23:14,611: {'taskid': 'cEnQpkltiz', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 09:23:14,617: {'taskid': 'cEnQpkltiz', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 09:23:14,624: {'taskid': 'cEnQpkltiz', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 09:23:14,637: [{'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 09:23:14', 'bestuptime': '2018-06-06 09:23:14', 'worstuptime': '2018-06-11 09:23:14', 'deadline': {'$date': 1528708994553}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'cEnQpkltiz', 'patientname': '1号玩家'}, {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '胃癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 09:23:14', 'bestuptime': '2018-06-06 09:23:14', 'worstuptime': '2018-06-11 09:23:14', 'deadline': {'$date': 1528708994564}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'zHd5Xy6Mqw', 'patientname': '1号玩家'}]
2018-06-01 09:23:14,637: Internal Server Error: /PMTaskHandle/modify/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 295, in modify
    task = Task.objects(pk=data['taskid']).first()
TypeError: list indices must be integers or slices, not str
2018-06-01 09:23:14,674: Cannot resolve field "jiedustatus"
2018-06-01 09:23:14,715: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 17, 23, 14), 'deadline': datetime.datetime(2018, 6, 21, 17, 23, 14), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'Je2hKurnZ5', 'tag': '科研'}
2018-06-01 09:23:14,719: add task: izE8PWywhF 0000001 MT100000 肺癌
2018-06-01 09:24:35,555: Not Found: /favicon.ico
2018-06-01 09:24:36,453: Not Found: /favicon.ico
2018-06-01 09:24:45,788: add task: Sh72W5Tp6C 0000001 MT100000 肺癌
2018-06-01 09:24:45,800: add task: tQod0UDAwC 0000001 MT100000 胃癌
2018-06-01 09:24:45,803: [<Task: Sh72W5Tp6C>, <Task: tQod0UDAwC>]
2018-06-01 09:24:45,843: {'taskid': 'Sh72W5Tp6C', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 09:24:45,850: {'taskid': 'Sh72W5Tp6C', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 09:24:45,857: {'taskid': 'Sh72W5Tp6C', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 09:24:45,869: [{'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 09:24:45', 'bestuptime': '2018-06-06 09:24:45', 'worstuptime': '2018-06-11 09:24:45', 'deadline': {'$date': 1528709085788}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'Sh72W5Tp6C', 'patientname': '1号玩家'}, {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '胃癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 09:24:45', 'bestuptime': '2018-06-06 09:24:45', 'worstuptime': '2018-06-11 09:24:45', 'deadline': {'$date': 1528709085800}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'tQod0UDAwC', 'patientname': '1号玩家'}]
2018-06-01 09:24:45,869: Internal Server Error: /PMTaskHandle/modify/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 295, in modify
    task = Task.objects(pk=data['taskid']).first()
TypeError: list indices must be integers or slices, not str
2018-06-01 09:24:45,903: Cannot resolve field "jiedustatus"
2018-06-01 09:24:45,930: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 17, 24, 45), 'deadline': datetime.datetime(2018, 6, 21, 17, 24, 45), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'uakUHDyLiW', 'tag': '科研'}
2018-06-01 09:24:45,935: add task: cN3OnsqJwY 0000001 MT100000 肺癌
2018-06-01 10:10:37,636: add task: D1XPARUoHn 0000001 MT100000 肺癌
2018-06-01 10:10:37,648: add task: U7cg64Qyj0 0000001 MT100000 胃癌
2018-06-01 10:10:37,652: [<Task: D1XPARUoHn>, <Task: U7cg64Qyj0>]
2018-06-01 10:10:37,672: Internal Server Error: /PatientHandle/add2project/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "pd"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 947, in add2project
    project = Project.objects(pd=data['projectid']).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "pd"
2018-06-01 10:10:37,766: {'taskid': 'D1XPARUoHn', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 10:10:37,775: {'taskid': 'D1XPARUoHn', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 10:10:37,785: {'taskid': 'D1XPARUoHn', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 10:10:37,803: [{'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:10:37', 'bestuptime': '2018-06-06 10:10:37', 'worstuptime': '2018-06-11 10:10:37', 'deadline': {'$date': 1528711837636}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'D1XPARUoHn', 'patientname': '1号玩家'}, {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '胃癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:10:37', 'bestuptime': '2018-06-06 10:10:37', 'worstuptime': '2018-06-11 10:10:37', 'deadline': {'$date': 1528711837648}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'U7cg64Qyj0', 'patientname': '1号玩家'}]
2018-06-01 10:10:37,803: Internal Server Error: /PMTaskHandle/modify/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 295, in modify
    task = Task.objects(pk=data['taskid']).first()
TypeError: list indices must be integers or slices, not str
2018-06-01 10:10:37,855: Cannot resolve field "jiedustatus"
2018-06-01 10:10:37,920: 'sample'
2018-06-01 10:10:37,956: Internal Server Error: /LabTaskHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/utils/deprecation.py", line 97, in __call__
    response = self.process_response(request, response)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'str' object has no attribute 'get'
2018-06-01 10:10:38,074: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 18, 10, 38), 'deadline': datetime.datetime(2018, 6, 21, 18, 10, 38), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'peG9COTloA', 'tag': '科研'}
2018-06-01 10:10:38,093: add task: 7iMPF9OEIW 0000001 MT100000 肺癌
2018-06-01 10:10:49,861: add task: CBZS54DiPE 0000001 MT100000 肺癌
2018-06-01 10:10:49,879: add task: etosBKlyQW 0000001 MT100000 胃癌
2018-06-01 10:10:49,886: [<Task: CBZS54DiPE>, <Task: etosBKlyQW>]
2018-06-01 10:10:49,906: Internal Server Error: /PatientHandle/add2project/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 61, in query
    fields = _doc_cls._lookup_field(parts)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/base/document.py", line 1008, in _lookup_field
    raise LookUpError('Cannot resolve field "%s"' % field_name)
mongoengine.errors.LookUpError: Cannot resolve field "pd"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 947, in add2project
    project = Project.objects(pd=data['projectid']).first()
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 299, in first
    result = queryset[0]
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 197, in __getitem__
    queryset._cursor[key],
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1547, in _cursor
    self._cursor_obj = self._collection.find(self._query,
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/base.py", line 1590, in _query
    self._mongo_query = self._query_obj.to_query(self._document)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 89, in to_query
    query = query.accept(QueryCompilerVisitor(document))
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 155, in accept
    return visitor.visit_query(self)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/visitor.py", line 78, in visit_query
    return transform.query(self.document, **query.query)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/mongoengine/queryset/transform.py", line 63, in query
    raise InvalidQueryError(e)
mongoengine.errors.InvalidQueryError: Cannot resolve field "pd"
2018-06-01 10:10:49,987: {'taskid': 'CBZS54DiPE', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 10:10:49,996: {'taskid': 'CBZS54DiPE', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 10:10:50,007: {'taskid': 'CBZS54DiPE', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 10:10:50,037: [{'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:10:49', 'bestuptime': '2018-06-06 10:10:49', 'worstuptime': '2018-06-11 10:10:49', 'deadline': {'$date': 1528711849861}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'CBZS54DiPE', 'patientname': '1号玩家'}, {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '胃癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:10:49', 'bestuptime': '2018-06-06 10:10:49', 'worstuptime': '2018-06-11 10:10:49', 'deadline': {'$date': 1528711849879}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'etosBKlyQW', 'patientname': '1号玩家'}]
2018-06-01 10:10:50,037: Internal Server Error: /PMTaskHandle/modify/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 295, in modify
    task = Task.objects(pk=data['taskid']).first()
TypeError: list indices must be integers or slices, not str
2018-06-01 10:10:50,100: Cannot resolve field "jiedustatus"
2018-06-01 10:10:50,234: 'sample'
2018-06-01 10:10:50,278: Internal Server Error: /LabTaskHandle/view/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/utils/deprecation.py", line 97, in __call__
    response = self.process_response(request, response)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'str' object has no attribute 'get'
2018-06-01 10:10:50,377: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 18, 10, 50), 'deadline': datetime.datetime(2018, 6, 21, 18, 10, 50), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'W1qX0rAHZz', 'tag': '科研'}
2018-06-01 10:10:50,385: add task: v9eBZDjVzS 0000001 MT100000 肺癌
2018-06-01 10:14:37,354: add task: E1FrWOg4c7 0000001 MT100000 肺癌
2018-06-01 10:14:37,363: add task: mBi3TSqOy0 0000001 MT100000 胃癌
2018-06-01 10:14:37,366: [<Task: E1FrWOg4c7>, <Task: mBi3TSqOy0>]
2018-06-01 10:14:37,380: Internal Server Error: /PatientHandle/add2project/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 950, in add2project
    tumortypes=Project.tumortype.split()
AttributeError: 'StringField' object has no attribute 'split'
2018-06-01 10:14:37,417: {'taskid': 'E1FrWOg4c7', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 10:14:37,423: {'taskid': 'E1FrWOg4c7', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 10:14:37,429: {'taskid': 'E1FrWOg4c7', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 10:14:37,441: [{'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:14:37', 'bestuptime': '2018-06-06 10:14:37', 'worstuptime': '2018-06-11 10:14:37', 'deadline': {'$date': 1528712077354}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'E1FrWOg4c7', 'patientname': '1号玩家'}, {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '胃癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:14:37', 'bestuptime': '2018-06-06 10:14:37', 'worstuptime': '2018-06-11 10:14:37', 'deadline': {'$date': 1528712077363}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'mBi3TSqOy0', 'patientname': '1号玩家'}]
2018-06-01 10:14:37,442: Internal Server Error: /PMTaskHandle/modify/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 295, in modify
    task = Task.objects(pk=data['taskid']).first()
TypeError: list indices must be integers or slices, not str
2018-06-01 10:14:37,472: Cannot resolve field "jiedustatus"
2018-06-01 10:14:37,504: 'sample'
2018-06-01 10:14:37,553: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 18, 14, 37), 'deadline': datetime.datetime(2018, 6, 21, 18, 14, 37), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'GWF7XpR0ub', 'tag': '科研'}
2018-06-01 10:14:37,558: add task: x4v9WP1e0O 0000001 MT100000 肺癌
2018-06-01 10:15:59,211: add task: FAGw8meQrq 0000001 MT100000 肺癌
2018-06-01 10:15:59,222: add task: BYwsMHkzxO 0000001 MT100000 胃癌
2018-06-01 10:15:59,226: [<Task: FAGw8meQrq>, <Task: BYwsMHkzxO>]
2018-06-01 10:15:59,257: Internal Server Error: /PatientHandle/add2project/
Traceback (most recent call last):
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/ryan/PycharmProjects/untitled/venv/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/ryan/PycharmProjects/untitled/projectmanage/views.py", line 950, in add2project
    tumortypes=Project.tumortype.split()
AttributeError: 'StringField' object has no attribute 'split'
2018-06-01 10:15:59,326: {'taskid': 'FAGw8meQrq', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 10:15:59,335: {'taskid': 'FAGw8meQrq', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 10:15:59,343: {'taskid': 'FAGw8meQrq', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 10:15:59,374: {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:15:59', 'bestuptime': '2018-06-06 10:15:59', 'worstuptime': '2018-06-11 10:15:59', 'deadline': {'$date': 1528712159211}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'FAGw8meQrq', 'patientname': '1号玩家'}
2018-06-01 10:15:59,375: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 10:15:59,383: Cannot resolve field "jiedustatus"
2018-06-01 10:15:59,421: 'sample'
2018-06-01 10:15:59,476: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 18, 15, 59), 'deadline': datetime.datetime(2018, 6, 21, 18, 15, 59), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': '5gLxcowSBK', 'tag': '科研'}
2018-06-01 10:15:59,482: add task: 1EVslTrHjZ 0000001 MT100000 肺癌
2018-06-01 10:16:49,230: add task: CGterUdsXa 0000001 MT100000 肺癌
2018-06-01 10:16:49,241: add task: YJHof8UwCe 0000001 MT100000 胃癌
2018-06-01 10:16:49,245: [<Task: CGterUdsXa>, <Task: YJHof8UwCe>]
2018-06-01 10:16:49,289: add task: STWgiFUl5t 0000001 MT100000 
2018-06-01 10:16:49,297: Cannot encode object: <Task: STWgiFUl5t>
2018-06-01 10:16:49,301: add task: 4oRUtPNLxW 0000001 MT100000 
2018-06-01 10:16:49,306: Cannot encode object: <Task: 4oRUtPNLxW>
2018-06-01 10:16:49,430: {'taskid': 'CGterUdsXa', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 10:16:49,445: {'taskid': 'CGterUdsXa', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 10:16:49,459: {'taskid': 'CGterUdsXa', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 10:16:49,499: {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:16:49', 'bestuptime': '2018-06-06 10:16:49', 'worstuptime': '2018-06-11 10:16:49', 'deadline': {'$date': 1528712209230}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'CGterUdsXa', 'patientname': '1号玩家'}
2018-06-01 10:16:49,503: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 10:16:49,520: Cannot resolve field "jiedustatus"
2018-06-01 10:16:49,580: 'sample'
2018-06-01 10:16:49,651: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 18, 16, 49), 'deadline': datetime.datetime(2018, 6, 21, 18, 16, 49), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'Og6hzK1sXu', 'tag': '科研'}
2018-06-01 10:16:49,658: add task: Lgbsqhlp7E 0000001 MT100000 肺癌
2018-06-01 10:21:33,979: add task: GNpsTc56ye 0000001 MT100000 肺癌
2018-06-01 10:21:33,994: add task: BJAw4FcWiQ 0000001 MT100000 胃癌
2018-06-01 10:21:33,998: [<Task: GNpsTc56ye>, <Task: BJAw4FcWiQ>]
2018-06-01 10:21:34,038: add task: 5hYOlZBAyD 0000001 MT100000 
2018-06-01 10:21:34,050: Cannot encode object: <Task: 5hYOlZBAyD>
2018-06-01 10:21:34,131: add task: w67YlUjpMN 0000001 MT100000 
2018-06-01 10:21:34,135: Cannot encode object: <Task: w67YlUjpMN>
2018-06-01 10:21:34,157: {'taskid': 'GNpsTc56ye', 'cmd': '实验暂停', 'info': '尚未确定内容'}
2018-06-01 10:21:34,171: {'taskid': 'GNpsTc56ye', 'cmd': '分析暂停', 'info': '尚未确定内容'}
2018-06-01 10:21:34,181: {'taskid': 'GNpsTc56ye', 'cmd': '解读暂停', 'info': '尚未确定内容'}
2018-06-01 10:21:34,203: {'normaltype': '血液', 'normalsize': '5g', 'tumortype': '组织', 'tumorsize': '5g', 'expstatus': '开始', 'anastatus': 'wait', 'jiedu_status': 'wait', 'reportstatus': 'wait', 'info': '', 'extrainfo': '', 'status': '开始', 'tumor': '肺癌', 'product': 'MT100000', 'patient': '0000001', 'starttime': '2018-06-01 10:21:33', 'bestuptime': '2018-06-06 10:21:33', 'worstuptime': '2018-06-11 10:21:33', 'deadline': {'$date': 1528712493979}, 'chip': 'chip', 'strategy': '151bp', 'moletag': '否', 'platform': 'NGS', 'taskid': 'GNpsTc56ye', 'patientname': '1号玩家'}
2018-06-01 10:21:34,206: A ReferenceField only accepts DBRef, LazyReference, ObjectId or documents
2018-06-01 10:21:34,215: Cannot resolve field "jiedustatus"
2018-06-01 10:21:34,267: 'sample'
2018-06-01 10:21:34,349: {'patients': ['0000001'], 'start_time': datetime.datetime(2018, 6, 1, 18, 21, 34), 'deadline': datetime.datetime(2018, 6, 21, 18, 21, 34), 'products': ['MT100000'], 'tumortype': '肺癌', 'institute': 'yucebio', 'duty': 'renqian', 'projectid': 'KIrLOVlT0X', 'tag': '科研'}
2018-06-01 10:21:34,367: add task: X4QDWPIGZi 0000001 MT100000 肺癌
